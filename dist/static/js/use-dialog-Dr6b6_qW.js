import{b as N,n as J,L as W,U as _,s as P,M as X,N as x,O as Y,P as H,e as R,m as h,Q as ee}from"./el-button-CyCjzESm.js";import{t as oe}from"./el-popper-DObLfF72.js";import{a as ne}from"./el-overlay-CFG9siFI.js";import{y as te,f as c,a as A,E as le,D as ae,S as F,s as I,z as se,H as ie}from"./index-BVp7ge.js";const ve=Symbol("dialogInjectionKey"),w="dialog-fade",ue=N({center:Boolean,alignCenter:Boolean,closeIcon:{type:J},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),me={close:()=>!0},Ce=N({...ue,appendToBody:Boolean,appendTo:{type:oe.to.type,default:"body"},beforeClose:{type:P(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:P([String,Object]),default:w}}),ge={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[_]:e=>W(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},be=(e,t)=>{var E;const l=te().emit,{nextZIndex:f}=X();let p="";const z=x(),M=x(),a=c(!1),d=c(!1),u=c(!1),y=c((E=e.zIndex)!=null?E:f());let s,i;const k=Y("namespace",H),j=A(()=>{const n={},o=`--${k.value}-dialog`;return e.fullscreen||(e.top&&(n[`${o}-margin-top`]=e.top),e.width&&(n[`${o}-width`]=R(e.width))),n}),U=A(()=>e.alignCenter?{display:"flex"}:{}),V=A(()=>{const n={name:e.transition,onAfterEnter:v,onBeforeLeave:C,onAfterLeave:m};if(le(e.transition)){const o={...e.transition},S=(r,Q)=>T=>{ae(r)?r.forEach(O=>{F(O)&&O(T)}):F(r)&&r(T),Q()};return o.onAfterEnter=S(o.onAfterEnter,v),o.onBeforeLeave=S(o.onBeforeLeave,C),o.onAfterLeave=S(o.onAfterLeave,m),o.name||(o.name=w),o}return n});function v(){l("opened")}function m(){l("closed"),l(_,!1),e.destroyOnClose&&(u.value=!1)}function C(){l("close")}function D(){i==null||i(),s==null||s(),e.openDelay&&e.openDelay>0?{stop:s}=h(()=>L(),e.openDelay):L()}function g(){s==null||s(),i==null||i(),e.closeDelay&&e.closeDelay>0?{stop:i}=h(()=>B(),e.closeDelay):B()}function b(){function n(o){o||(d.value=!0,a.value=!1)}e.beforeClose?e.beforeClose(n):g()}function $(){e.closeOnClickModal&&b()}function L(){ee&&(a.value=!0)}function B(){a.value=!1}function G(){l("openAutoFocus")}function K(){l("closeAutoFocus")}function Z(n){var o;((o=n.detail)==null?void 0:o.focusReason)==="pointer"&&n.preventDefault()}e.lockScroll&&ne(a);function q(){e.closeOnPressEscape&&b()}return I(()=>e.zIndex,()=>{var n;y.value=(n=e.zIndex)!=null?n:f()}),I(()=>e.modelValue,n=>{var o;n?(d.value=!1,D(),u.value=!0,y.value=(o=e.zIndex)!=null?o:f(),ie(()=>{l("open"),t.value&&(t.value.parentElement.scrollTop=0,t.value.parentElement.scrollLeft=0,t.value.scrollTop=0)})):a.value&&g()}),I(()=>e.fullscreen,n=>{t.value&&(n?(p=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=p)}),se(()=>{e.modelValue&&(a.value=!0,u.value=!0,D())}),{afterEnter:v,afterLeave:m,beforeLeave:C,handleClose:b,onModalClick:$,close:g,doClose:B,onOpenAutoFocus:G,onCloseAutoFocus:K,onCloseRequested:q,onFocusoutPrevented:Z,titleId:z,bodyId:M,closed:d,style:j,overlayDialogStyle:U,rendered:u,visible:a,zIndex:y,transitionConfig:V}};export{Ce as a,me as b,ue as c,ge as d,ve as e,be as u};
