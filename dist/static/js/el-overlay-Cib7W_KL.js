import{a4 as c,d as b,h,B as C,r as i,M as w,a as M,s as g,a5 as k}from"./index-BjJ8Uj.js";import{P as d,g as x}from"./el-popper-C77DE2Vv.js";import{b as S,u as f,s as m,t as E,Q as O,i as y,h as P,a8 as T,r as B}from"./el-button-CvNljWXo.js";const z=e=>{if(!e)return{onClick:c,onMousedown:c,onMouseup:c};let t=!1,s=!1;return{onClick:o=>{t&&s&&e(o),t=s=!1},onMousedown:o=>{t=o.target===o.currentTarget},onMouseup:o=>{s=o.target===o.currentTarget}}},I=S({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:m([String,Array,Object])},zIndex:{type:m([String,Number])}}),L={click:e=>e instanceof MouseEvent},H="overlay";var N=b({name:"ElOverlay",props:I,emits:L,setup(e,{slots:t,emit:s}){const n=f(H),l=u=>{s("click",u)},{onClick:a,onMousedown:o,onMouseup:r}=z(e.customMaskEvent?void 0:l);return()=>e.mask?h("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:o,onMouseup:r},[i(t,"default")],d.STYLE|d.CLASS|d.PROPS,["onClick","onMouseup","onMousedown"]):C("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[i(t,"default")])}});const R=N,j=(e,t={})=>{w(e)||E("[useLockscreen]","You need to pass a ref param to this function");const s=t.ns||f("popup"),n=M(()=>s.bm("parent","hidden"));if(!O||y(document.body,n.value))return;let l=0,a=!1,o="0";const r=()=>{setTimeout(()=>{typeof document>"u"||a&&document&&(document.body.style.width=o,B(document.body,n.value))},200)};g(e,u=>{if(!u){r();return}a=!y(document.body,n.value),a&&(o=document.body.style.width,P(document.body,n.value)),l=x(s.namespace.value);const p=document.documentElement.clientHeight<document.body.scrollHeight,v=T(document.body,"overflowY");l>0&&(p||v==="scroll")&&a&&(document.body.style.width=`calc(100% - ${l}px)`)}),k(()=>r())};export{R as E,j as a,z as u};
